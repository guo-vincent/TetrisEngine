<head>
    <base href="../build/docs/html/">
</head>
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TetrisEngine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__c_1_2_tetris_2_tetris_engine_2_r_e_a_d_m_e"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
THIS IS A WORK IN PROGRESS (This page will be updated incrementally)</h1>
<p>README will be updated incrementally Currently, ONNX Runtime is only tested (and known to work on Windows-CPU) Other versions may or may not work. Needs more testing. Then I'll figure it out.</p>
<p>Need to test:</p>
<ol type="1">
<li>Windows-CPU (WORKS!)</li>
<li>Mac-CPU</li>
<li>Linux-CPU</li>
</ol>
<p>GPU files contain nothing. This is because they are not yet implemented and are not a priority right now.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
ABOUT</h1>
<p>A modular Tetris engine with neural network integration, featuring:</p>
<ul>
<li>C++ core engine with ONNX Runtime support</li>
<li>Python tools for training and evaluation</li>
<li>Cross-platform build system using CMake and vcpkg</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md5"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Prerequisites</h2>
<p>Ensure the following tools are installed:</p>
<ul>
<li>CMake ≥ 3.28 - <a href="https://cmake.org/cmake/help/book/mastering-cmake/chapter/Getting%20Started.html#getting-and-installing-cmake-on-your-computer">Installation Guide</a></li>
<li>A C++20-compatible compiler</li>
<li>Git</li>
<li>Python ≥ 3.8 (for training scripts)</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Installing CMake</h2>
<h3><a class="anchor" id="autotoc_md8"></a>
Linux</h3>
<h4><a class="anchor" id="autotoc_md9"></a>
Ubuntu/Debian</h4>
<div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install cmake</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Windows</h3>
<ol type="1">
<li>Download the latest installer from <a href="https://cmake.org/download/">cmake.org/download</a></li>
<li>Run the installer and select:<ul>
<li>"Add CMake to the system PATH for all users"</li>
<li>"Create CMake Desktop Icon" (optional)</li>
</ul>
</li>
</ol>
<h3><a class="anchor" id="autotoc_md11"></a>
Mac</h3>
<h4><a class="anchor" id="autotoc_md12"></a>
Using Homebrew</h4>
<div class="fragment"><div class="line">brew install cmake</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md13"></a>
Downloaded directly (not recommended)</h4>
<div class="fragment"><div class="line">curl -OL [https://github.com/Kitware/CMake/releases/download/v3.28.3/cmake-3.28.3-macos-universal.tar.gz](https://github.com/Kitware/CMake/releases/download/v3.28.3/cmake-3.28.3-macos-universal.tar.gz)</div>
<div class="line">tar -xzf cmake-*.tar.gz</div>
<div class="line">sudo mv cmake-*.app /Applications/</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
Verify Installation</h3>
<div class="fragment"><div class="line">cmake --version</div>
</div><!-- fragment --><p>You should see a message like</p>
<div class="fragment"><div class="line">cmake version 4.0.1</div>
<div class="line"> </div>
<div class="line">CMake suite maintained and supported by Kitware &quot;(kitware.com/cmake)&quot;.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Install vcpkg</h2>
<blockquote class="doxtable">
<p><b>Important:</b> Downloading CMake is a prerequisite for vcpkg. <b>Make sure CMake is downloaded before proceeding further.</b> </p>
</blockquote>
<p>vcpkg is used to manage C++ dependencies.</p>
<ol type="1">
<li><p class="startli">Clone the vcpkg repository:</p>
<div class="fragment"><div class="line">git clone https://github.com/microsoft/vcpkg.git</div>
</div><!-- fragment --></li>
<li><p class="startli">Navigate to the vcpkg directory and bootstrap:</p>
<div class="fragment"><div class="line">cd vcpkg</div>
<div class="line">./bootstrap-vcpkg.sh  # ./bootstrap-vcpkg.bat on Windows</div>
</div><!-- fragment --><p class="startli">If you do not want to follow step 3 and onwards, place vcpkg in the system root. That is, UNDER:</p>
<div class="fragment"><div class="line">- Windows: &quot;C:/Users/YourName&quot;</div>
<div class="line">- Mac: &quot;/Users/YourName&quot;</div>
<div class="line">- Linux: &quot;/home/YourName&quot;</div>
</div><!-- fragment --></li>
</ol>
<blockquote class="doxtable">
<p>There is no gurantee that this will work with build.py. <b>I HIGHLY RECOMMEND saving variables to PATH (steps 3-4)</b> </p>
</blockquote>
<ol type="1">
<li><p class="startli">Add vcpkg to your system PATH (advanced environment variables)</p>
<p class="startli">WARNING: For steps 3-4 you may need to access terminal/powershell in administrator mode for PATH to update.</p>
<div class="fragment"><div class="line">setx PATH `%PATH%; path_to_vcpkg`</div>
</div><!-- fragment --><p class="startli">This allows you to use build.py.</p>
</li>
<li><p class="startli">Set VCPKG_ROOT environment variable to the root dir of your vcpkg installation:</p>
<div class="fragment"><div class="line">setx VCPKG_ROOT `path_to_vcpkg`</div>
</div><!-- fragment --><p class="startli">Replace <code>path_to_vcpkg</code> with the actual path to your vcpkg directory.</p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md16"></a>
Clone TetrisEngine</h2>
<p>Clone the repository and navigate to its directory:</p>
<div class="fragment"><div class="line">git clone git@github.com:guo-vincent/TetrisEngine.git</div>
<div class="line">cd TetrisEngine</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md18"></a>
Building the Project</h1>
<h2><a class="anchor" id="autotoc_md19"></a>
Install Dependencies with vcpkg</h2>
<p>Use vcpkg to install the necessary libraries:</p>
<div class="fragment"><div class="line">./vcpkg/vcpkg install gtest</div>
</div><!-- fragment --><p>Confirm your installation:</p>
<div class="fragment"><div class="line">vcpkg list</div>
</div><!-- fragment --><p>You should see this message:</p>
<div class="fragment"><div class="line">gtest:x64-`platform`</div>
</div><!-- fragment --><p>where <code>platform</code> represents your computer's architecture.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md21"></a>
Python Tools</h1>
<h2><a class="anchor" id="autotoc_md22"></a>
Setup Python Environment</h2>
<p>Navigate to the TetrisEngine/ directory</p>
<p>run</p>
<div class="fragment"><div class="line">python setup_venv.py</div>
</div><!-- fragment --><p>This sets up venv for you. Pretty nice, since I always forget the venv command.</p>
<p>Follow the instructions that correspond with your computer architecture.</p>
<p>If no error messages show up, you're done. Keep reading.</p>
<p>If not, you are probably missing something major (like python). I'll assume you know how to set python up.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
Training and Evaluation</h2>
<p><b><a class="el" href="train_8py.html">Train.py</a> and <a class="el" href="evaluate_8py.html">evaluate.py</a> ARE NOT YET IMPLEMENTED AND CURRENTLY DO NOTHING!</b></p>
<p>Use the provided scripts to train and evaluate your models:</p>
<ul>
<li><p class="startli">Train:</p>
<div class="fragment"><div class="line">python train.py</div>
</div><!-- fragment --></li>
<li><p class="startli">Evaluate:</p>
<div class="fragment"><div class="line">python evaluate.py</div>
</div><!-- fragment --></li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md25"></a>
Compiling the program</h1>
<p>THIS IS IMPLEMENTED</p>
<p>Navigate to TetrisEngine/</p>
<ul>
<li><p class="startli">Run:</p>
<div class="fragment"><div class="line">python build.py</div>
</div><!-- fragment --></li>
</ul>
<p>This executes the CMake file.</p>
<p>On linux/mac:</p>
<p>The executable will be under "build/bin/" Test files will be generated under "build/bin/tests"</p>
<p>On windows:</p>
<p>The executable will be under "build/bin/Release" Test files will be generated under "build/bin/tests/Release"</p>
<p>To make your life easier, build.py takes in some optional flags:</p>
<ol type="1">
<li>"--no-tests": (DEFAULT=ON)<ul>
<li>Use if you wish to explicitly force CMake to skip compilation of tests</li>
<li>Cannot be declared with the &ndash;tests flag.</li>
<li>Shortens compilation time.</li>
</ul>
</li>
<li>"--tests": compiles unit tests.</li>
<li>"--run": immediately executes all files compiled by CMake. (DEFAULT=OFF)<ul>
<li>includes unit tests compiled, if they compiled successfully.</li>
</ul>
</li>
<li>"--document": updates doxygen documents. (DEFAULT=OFF)<ul>
<li>run this every now and then</li>
<li>not running</li>
</ul>
</li>
<li>"--use-cache": uses cache to rebuild project (DEFAULT=OFF)<ul>
<li><b>Warning: changes to config code may not be reflected if you enable this option</b></li>
<li><b>python build.py &ndash;use-cache might skip tests and documentation changes</b></li>
<li>massively reduces compilation time by performing incremental changes instead</li>
<li>use for smallish changes</li>
</ul>
</li>
</ol>
<p>The output generated can get quite verbose, so I recommend piping the output to a .txt file.</p>
<p>Just make sure to edit .gitignore to ignore the file.</p>
<hr  />
<p>For more information on integrating vcpkg with CMake, refer to the official documentation:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/vcpkg/users/buildsystems/cmake-integration">vcpkg CMake Integration</a> </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
